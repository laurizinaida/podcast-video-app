## **第三部分：技术栈 (Tech Stack)**

### **技术栈选型表 (Web Services)**

| 类别        | 技术                     | 版本     | 目的与理由                                                     |
|:--------- |:---------------------- |:------ |:--------------------------------------------------------- |
| **前端语言**  | TypeScript             | \~5.4  | 为项目提供类型安全，提升代码质量和可维护性。                                    |
| **前端框架**  | Next.js (React)        | \~14.2 | 业界领先的React框架，提供卓越的性能、开发体验和生态，与Cloudflare Pages完美集成。       |
| **UI组件库** | Headless UI / Radix UI | 最新     | 采用无头组件库，以获取无障碍且功能完备的组件逻辑，同时完全自由地控制视觉样式。                   |
| **CSS框架** | Tailwind CSS           | \~3.4  | 极大提升了UI开发效率，与无头组件库是最佳搭档，便于快速构建自定义界面。                      |
| **状态管理**  | Zustand / Jotai        | 最新     | 轻量级的状态管理库，相比Redux更简洁，足够支撑MVP并能扩展至复杂应用。                    |
| **后端语言**  | TypeScript             | \~5.4  | 与前端保持一致，便于在Monorepo中共享代码和类型，降低团队心智负担。                     |
| **后端运行时** | Cloudflare Workers     | 最新     | 核心技术约束，提供全球分布、高性能的Serverless计算环境。                         |
| **API风格** | REST / RPC via Fetch   | -      | 简单、成熟、无状态，完全满足MVP的API通信需求。                                |
| **数据库**   | Cloudflare D1          | 最新     | 与Workers生态系统无缝集成，提供Serverless SQL能力，且有免费套餐。               |
| **文件存储**  | Cloudflare R2          | 最新     | S3兼容，与Workers集成良好，提供极具成本效益的对象存储，适合存放用户上传的音频和生成的视频。        |
| **身份验证**  | Auth.js (NextAuth)     | \~5.0  | 开源、安全的身份验证库，轻松实现邮箱/密码和Google登录，与Next.js和Serverless环境兼容良好。 |
| **测试框架**  | Vitest                 | \~1.5  | 现代、快速的单元/集成测试框架，可同时用于测试前端React组件和后端Worker逻辑。              |
| **E2E测试** | Playwright             | \~1.44 | 提供可靠、快速的端到端测试能力，确保关键用户流程的正确性。                             |
| **CI/CD** | GitHub Actions         | -      | 与代码仓库无缝集成，拥有强大的免费额度，足以满足MVP的自动化构建和部署需求。                   |

### **技术栈选型表 (独立渲染程序)**

| 类别       | 技术                | 目的与理由                                                     |
|:-------- |:----------------- |:--------------------------------------------------------- |
| **语言**   | Python (\~3.11)   | 拥有强大的媒体处理和自动化脚本库，是此类任务的理想选择。                              |
| **核心依赖** | FFmpeg (二进制)      | 视频处理的行业标准工具，用于执行所有核心的视频合成、编码任务。                           |
| **图像处理** | Pillow            | 用于处理用户上传的图片素材，如缩放、裁剪和合成。                                  |
| **任务接收** | Flask (轻量级API服务器) | 运行一个简单的本地API端点来接收来自Cloudflare Worker的渲染任务。将通过内网穿透技术暴露给云端。 |