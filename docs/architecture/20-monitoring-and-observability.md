## **第二十部分：监控与可观测性 (Monitoring and Observability)**

### **监控技术栈 (Monitoring Stack)**

MVP阶段，我们将优先利用平台自带的免费且强大的监控工具。

* **前端监控:**
  * **性能与分析:** 利用 **Cloudflare Web Analytics** 来收集核心的用户行为和性能指标（如Core Web Vitals）。
  * **错误追踪:** 集成一个轻量级的第三方服务，如 **Sentry** 的免费套餐，来捕获和报告前端发生的JavaScript错误。
* **后端监控 (Worker):**
  * **核心指标:** 主要依赖 **Cloudflare Workers的内置分析** 来监控API请求率、错误率、CPU执行时间和冷启动情况。
  * **日志:** 详细的错误日志将被打印到Cloudflare控制台，以便于实时调试。
* **渲染服务监控:**
  * **MVP阶段:** 通过**手动查看本地程序的命令行日志**来进行监控。
  * **未来:** 当迁移到云端后，将集成云平台自带的监控服务（如AWS CloudWatch或Google Cloud Logging）。

### **关键指标 (Key Metrics)**

我们将重点关注以下几类关键指标：

* **前端指标:**
  * Core Web Vitals (LCP, INP, CLS): 衡量用户感知的页面加载和交互性能。
  * JS 错误率: 衡量前端代码的稳定性。
  * API 请求延迟: 从客户端视角衡量的后端响应速度。
* **后端指标 (Worker):**
  * 请求总数 & 错误率: API的整体健康度和可靠性。
  * CPU 执行时间: 监控性能热点和潜在的成本驱动因素。
* **渲染服务指标:**
  * 任务队列长度: (未来迁移至云端后) 衡量渲染任务积压情况的关键指标。
  * 平均渲染时间: 每个视频的平均处理耗时。
  * 渲染成功/失败率: 衡量渲染服务的可靠性。