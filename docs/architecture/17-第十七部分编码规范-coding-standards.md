## **第十七部分：编码规范 (Coding Standards)**

### **关键规则 (Critical Rules)**

* **1. 共享类型定义:** 所有在前后端共享的数据结构类型**必须**在`packages/shared`中统一定义并导入使用。
* **2. API调用封装:** 前端**必须**通过统一的API客户端服务层来调用后端API。
* **3. 环境变量隔离:** 应用代码中**严禁**直接访问`process.env`。所有密钥和配置**必须**通过Cloudflare Worker运行时注入的`env`对象来访问。
* **4. 统一错误处理:** 所有API路由**必须**使用统一的错误处理中间件，并使用`AppError`类来抛出可预期的业务逻辑错误。

***
